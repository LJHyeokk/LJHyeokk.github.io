---
layout: single
classes: wide
title: "useState and Copy"

author_profile: ture
---

## useState?ğŸ“

<center>useState : useStateí•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ë³€ìˆ˜ì™€ ê·¸ ë³€ìˆ˜ë¥¼ setí•´ì£¼ëŠ” í•¨ìˆ˜ë¥¼ return í•œë‹¤</center>
{: .notice--danger}

<center>useStateë¥¼ í†µí•´ ë§Œë“  ë³€ìˆ˜ëŠ” ê°’ì´ ë³€ê²½ì´ ë˜ë©´ ëœë”ë§ë˜ë©° ìƒˆë¡­ê²Œ ì¨ì§„ë‹¤.</center>
<br>
<center>ì´ë•Œ ë³€ìˆ˜ì˜ ê°’ì„ ë³€ê²½í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” í•¨ìˆ˜ê°€ setterí•¨ìˆ˜ì´ë‹¤.</center>

<br>

### ì‚¬ìš©ë°©ë²•ğŸ“

> ex) ì˜ëª»ëœ ì‚¬ìš©ë²•

```javascript
let [like, setlike] = useState("ğŸ¤");

{
  <div
    onClick={() => {
      like = "í•˜íŠ¸";
    }}
  >
    {like}
  </div>;
}
```

ì´ê²ƒì€ ì˜ëª»ëœ ì˜ˆì‹œì´ë‹¤. ì‹¤ì œë¡œ ğŸ¤ë¥¼ í´ë¦­í•œë‹¤ê³  í•´ë„ likeë³€ìˆ˜ëŠ” 'í•˜íŠ¸'ë¡œ ë³€í•˜ì§€ì•ŠëŠ”ë‹¤. ì˜¤ì§ setlikeí•¨ìˆ˜ë¥¼ í†µí•´ ë³€ê²½ë  ìˆ˜ ìˆë‹¤.

> ex) ì˜¬ë°”ë¥¸ ì‚¬ìš©ë²•

```javascript
let [like, setlike] = useState("ğŸ¤");

{
  <div
    onClick={() => {
      setlike("í•˜íŠ¸");
    }}
  >
    {like}
  </div>;
}
```

ì˜¬ë°”ë¥¸ ì˜ˆì‹œ. ğŸ¤ë¥¼ ëˆ„ë¥´ë©´ 'í•˜íŠ¸' ë¼ëŠ” í…ìŠ¤íŠ¸ë¡œ ë³€ê²½ëœë‹¤.

<br>
<hr>

### ì°¸ì¡°íƒ€ì…ì¼ë•ŒğŸ“

> ex) ì°¸ì¡°íƒ€ì…(ë°°ì—´)ì˜ ì˜ëª»ëœ ì‚¬ìš©ë²•

```javascript
let [like, setlike] = useState(["ì•ˆë…•", " ë­í•´"]);

{
  <div
    onClick={() => {
      setlike((like[2] = "ì˜ê°€"));
    }}
  >
    {like}
  </div>;
}
```

ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ë°°ì—´ì˜ 2ë²ˆ ì¸ë±ìŠ¤ì— ê°’ì„ ë„£ì–´ì¤˜ ë¼ê³  ëª…ë ¹í•œê²ƒê°™ì€ë° ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ 'ì˜ê°€'ë¼ê³  ë°”ë€ë‹¤. ì´ˆê¸°ê°’ë“¤ì´ ì—†ì–´ì§„ê²ƒì´ë‹¤.

> ex) ì˜¬ë°”ë¥¸ ì‚¬ìš©ë²•

```javascript
let [like, setlike] = useState(["ì•ˆë…•", " ë­í•´"]);

{
  <div
    onClick={() => {
      let copy = [...like];
      copy.push(" ì˜ê°€");
      setlike(copy);
    }}
  >
    {like}
  </div>;
}
```

ì „ê°œì—°ì‚°ìë¥¼ í†µí•´ ë°°ì—´ì„ deepCopyí•´ì£¼ì—ˆê³  copyì— ê°’ì„ ë„£ì–´ ê·¸ê²ƒì„ setí•´ì£¼ì—ˆë‹¤. // ì•ˆë…• ë­í•´ ì˜ê°€

<br>
<hr>

> ex) ì°¸ì¡°íƒ€ì…(ë°°ì—´ì˜ ìš”ì†Œì— ì°¸ì¡°íƒ€ì…ì´ ìˆì„ê²½ìš°)ì˜ ì˜ëª»ëœ ì‚¬ìš©ë²•

```javascript
let [like, setlike] = useState([{"ì•ˆë…•",1}, {" ë­í•´",2}]);

{
  <div
    onClick={() => {
      let copy = [...like];
      copy,push({"goodbye"});
      setlike(copy);
    }}
  >
  </div>;
}
```

ë°°ì—´ì˜ ìš”ì†Œë¡œ ì°¸ì¡°íƒ€ì…ì´ ìˆì„ê²½ìš° ì „ê°œì—°ì‚°ìë¡œ copyí•˜ëŠ” ë°©ë²•ì€ ì˜¬ì§€ì•Šë‹¤. ë°°ì—´ì˜ ë°”ê¹¥ë¶€ë¶„ë§Œ copyë˜ì–´ ì–•ì€ë³µì‚¬ê°€ ëœë‹¤.

> ex) ì˜¬ë°”ë¥¸ ì‚¬ìš©ë²•

```javascript
let [like, setlike] = useState([{"ì•ˆë…•",1}, {" ë­í•´",2}]);

{
  <div
    onClick={() => {
      let deepcopy = JSON.parse(JSON.stringify(like));
      deepcopy.push(" ì˜ê°€");
      setlike(copy);
    }}
  >
  </div>;
}
```

ë°°ì—´ì„ stringìœ¼ë¡œ ë°”ê¾¸ê³  ê·¸ê°’ì„ ë‹¤ì‹œ Objectë¡œ ë°”ê¾¸ëŠ” ê³¼ì •ì—ì„œ ëª¨ë“  ê°’ë“¤ì´ ê¸°ì¡´ ë ˆí¼ëŸ°ìŠ¤ì™€ ëŠê²¨ ìƒˆë¡œìš´ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ìƒì„±í•˜ê¸°ì— ì™„ë²½í•œ deepcopyë¼ ë³¼ ìˆ˜ ìˆë‹¤.

<br>
<hr>

<center>ğŸ“— ì–•ì€ ë³µì‚¬: ë ˆí¼ëŸ°ìŠ¤ë¥¼ ê³µìœ í•¨</center>
{: .notice--info}

<center>ğŸ“— ê¹Šì€ ë³µì‚¬: ì•„ì˜ˆ ìƒˆë¡œìš´ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ê°€ì§</center>
{: .notice--info}

> ê¹Šì€ ë³µì‚¬ 1 : JSON.parse(JSON.stringify()) ì‚¬ìš© // ë‹¨ì  - í•¨ìˆ˜ê°€ë“¤ì–´ê°„ ObjectëŠ” ì‚¬ìš©x

> ê¹Šì€ ë³µì‚¬ 2 : lodash(\_) ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©

```javascript
const original = { a: { b: 2 } };
let copy = _.cloneDeep(original);
copy.a.b = 100;
console.log(original.a.b); //2
```

> ê¹Šì€ ë³µì‚¬ 3 : ì»¤ìŠ¤í…€ ì¬ê·€í•¨ìˆ˜

```javascript
function cloneObject(obj) {
  var clone = {};
  for (var key in obj) {
    if (typeof obj[key] == "object" && obj[key] != null) {
      clone[key] = cloneObject(obj[key]);
    } else {
      clone[key] = obj[key];
    }
  }

  return clone;
}
```

<br>

<center><p style='color:seagreen'>ë¨¸ë¦¬ì•„í”„ì§€ì•Šê²Œ lodashë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì• ìš©í•˜ì.</p></center>
