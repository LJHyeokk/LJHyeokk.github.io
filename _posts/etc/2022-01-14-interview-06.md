---
layout: single
classes: wide
title: 'AWS'

author_profile: ture
---

## AWSë€? ğŸ’¯

<center>AWS : ì•„ë§ˆì¡´ë‹·ì»´ì—ì„œ ê°œë°œí•œ í´ë¼ìš°ë“œ ì»´í“¨íŒ… í”Œë«í¼ - ë¹„ì¦ˆë‹ˆìŠ¤ì™€ ê°œë°œìê°€ ì›¹ ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ í™•ì¥ ê°€ëŠ¥í•˜ê³  ì •êµí•œ ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ì¶•í•˜ë„ë¡ ì§€ì›í•˜ì—¬ ì¤€ë‹¤.</center>
{: .notice--info}

EC2

- Elastic Compute Cloud
- AWS ìƒì—ì„œ ì‚¬ìš©í•˜ëŠ” Serverë¡œ, EC2 ì„œë²„ì— APIë¥¼ ë°°í¬í•˜ê²Œ ë¨.
- EC2ëŠ” ë‹¤ì–‘í•œ ì‚¬ì–‘ ì˜µì…˜ì„ ì œê³µí•¨. `t2.nano`Â (CPU 1, 0.5 GB memory) ë¶€í„°Â `x1.32xlarge`Â (CPU 128, RAM 1952 GB) ê¹Œì§€ ë‹¤ì–‘í•˜ê²Œ ì œê³µí•¨ìœ¼ë¡œ í•„ìš”í•œ ì‚¬ì–‘ì˜ EC2 ì¸ìŠ¤í„´ìŠ¤(instnace)ë¥¼ ì„ íƒí•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ.

Security Group

- EC2 ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•œ ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ì„ ì œì–´í•˜ëŠ” ê°€ìƒ ë°©í™”ë²½ ì—­í• .
- ì¦‰ security group ì„¤ì •ì„ í•´ì¤˜ì•¼ EC2 ì¸ìŠ¤í„´ìŠ¤ì— HTTPì™€ SSH ì ‘ì†ì´ ê°€ëŠ¥.

RDS

- Relational Database Service
- AWSì˜ database ì„œë¹„ìŠ¤.
- RDSë¥¼ ì‚¬ìš©í•˜ë©´ ì‚¬ìš©ìê°€ ì§ì ‘ ì„œë²„ë¥¼ ìƒì„±í•´ì„œ ë°ì´í„° ë² ì´ìŠ¤ë¥¼ ì„¤ì¹˜í•˜ê³  ì„¤ì •í•˜ê³  ê´€ë¦¬ í•˜ì§€ ì•ŠìŒ.
- ì‚¬ìš©ìê°€ ì§ì ‘ ë°ì´í„° ë² ì´ìŠ¤ë¥¼ ì„¤ì¹˜í•˜ê³  ìš´ì˜í•˜ëŠ” ê²ƒë³´ë‹¤ RDSë¥¼ ì‚¬ìš©í•˜ëŠ”ê²ƒì´ ë” ì €ë ´í•¨.

Load Balancer

- ë¡œë“œë°œë€ì„œëŠ” HTTP ìš”ì²­ë“¤ì„ ì—¬ëŸ¬ ì„œë²„ì— ë¶„ì‚°í• ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤.
- HTTP ìš”ì²­ì´ ë§ì„ë•ŒëŠ” ì„œë²„ í•˜ë‚˜ë§Œìœ¼ë¡œ ëª¨ë‘ ì²˜ë¦¬ í•˜ê¸° í˜ë“¤ê¸° ë•Œë¬¸ì— ì„œë²„ ìˆ˜ë¥¼ ëŠ˜ë¦¬ëŠ”ê²ƒì´ ì¼ë°˜ì . ì—¬ëŸ¬ ì„œë²„ë¥¼ ì‹¤í–‰í•˜ê³  ë¡œë“œë°œëŸ°ì„œê°€ HTTP ìš”ì²­ë“¤ì„ ì„œë²„ë“¤ì— ë¶„ì‚° í•´ì£¼ëŠ” í˜•íƒœë¡œ ì‹œìŠ¤í…œì´ êµ¬ì„±ë¨.

Route 53

- AWSì˜ DNS ì„œë¹„ìŠ¤.
- API ì‹œìŠ¤í…œì„ ì‹¤ì œ ë„ë©”ì¸ê³¼ ì—°ê²°.

### AWS S3

- AWS S3(Simple Storage Service)ëŠ” ì´ë¦„ ê·¸ëŒ€ë¡œ íŒŒì¼ì„ ì‰½ê²Œ ì €ì¥í•  ìˆ˜ ìˆëŠ” ê³µê°„ì„ ì œê³µí•˜ëŠ” ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.
- íŒŒì¼ì„ ì €ì¥ í•  ìˆ˜ ìˆì„ ë¿ë§Œì´ ì•„ë‹ˆë¼, ì—…ë¡œë“œëœ íŒŒì¼ë§ˆë‹¤ ê³ ìœ  ì£¼ì†Œë¥¼ ë¶€ì—¬í•´ì£¼ê¸° ë•Œë¬¸ì— S3ì— ì €ì¥í•œ íŒŒì¼ì„ ì›¹ìƒì—ì„œ ì‰½ê²Œ ì½ì–´ë“¤ì¼ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì£¼ë¡œ ì‚¬ì´íŠ¸ìƒì˜ ì´ë¯¸ì§€ë“¤ì„ ì €ì¥í•˜ê³  ì‚¬ì´íŠ¸ì—ì„œ ì½ì–´ë“¤ì—¬ ë Œë”ë§ í•´ì£¼ëŠ”ë° ì‚¬ìš©í•©ë‹ˆë‹¤.

## í´ë¼ìš°ë“œ ì»´í“¨íŒ… - ì¸í„°ë„·ì„í†µí•´ IT ë¦¬ì†ŒìŠ¤ì™€ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì˜¨ë””ë§¨ë“œë¡œ ì œê³µí•˜ëŠ”ì„œë¹„ìŠ¤

- ê¸°ì¡´ì˜ ë¬¼ë¦¬ì ì¸ í˜•íƒœì˜ ì‹¤ë¬¼ ì»´í“¨íŒ… ë¦¬ì†ŒìŠ¤ë¥¼ ë„¤íŠ¸ì›Œí¬ ê¸°ë°˜ ì„œë¹„ìŠ¤ í˜•íƒœë¡œ ì œê³µí•˜ëŠ” ê²ƒ.

- ì‚¬ìš©ìë¡œ í•˜ì—¬ê¸ˆ ë„¤íŠ¸ì›Œí¬ ìƒì—ì„œ í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ì˜ ìì›ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.

- ë‹¤ìŒê³¼ ê°™ì´ 3ê°€ì§€ ë¶„ë¥˜ë¡œ ë‚˜ëˆ„ê¸°ë„ í•œë‹¤.

â–¶ IaaS(Infrastructure as a Service)

- AWS, ë„¤ì´ë²„í”Œë«í¼ ê³¼ ê°™ì€ ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì³ë¥¼ ì œê³µí•˜ëŠ” ì„œë¹„ìŠ¤.

- ê°€ìƒ ì„œë²„ ë˜ëŠ” ìŠ¤í† ë¦¬ì§€, ê°€ìƒ ë„¤íŠ¸ì›Œí¬ ë“±ì˜ ë¦¬ì†ŒìŠ¤ë¥¼ ì„œë¹„ìŠ¤ í˜•íƒœë¡œ ì œê³µí•œë‹¤.

- ì‚¬ìš©ìëŠ” ë¬¼ë¦¬ì ì¸ í•˜ë“œì›¨ì–´ë¥¼ ì§ì ‘ ê´€ë¦¬í•  í•„ìš”ê°€ ì—†ìœ¼ë©°, ì§ì ‘ì ìœ¼ë¡œ ì„œë¹„ìŠ¤ ì´ìš©ì„ í†µí•´ ì»´í“¨í„° ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš© í•  ìˆ˜ ìˆë‹¤. (AWS, ë§ˆì´í¬ë¡œì†Œí”„íŠ¸(MS) ì• ì €, IBM ì†Œí”„íŠ¸ë ˆì´ì–´ ë“±ì˜ ì—…ì²´ë“¤ì´ ìˆë‹¤.)

- í´ë¼ìš°ë“œ ITì˜ ê¸°ë³¸ êµ¬ì„± ìš”ì†Œ (ë„¤íŠ¸ì›Œí‚¹, ì»´í“¨í„°, ë°ì´í„° ìŠ¤í† ë¦¬ì§€ ê³µê°„)

â–¶ PaaS(Platform as a Service)

- DB ë˜ëŠ” Application ì„œë²„ ë“±ì˜ ì´ë¯¸ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì œê³µí•œë‹¤.

- í•˜ë“œì›¨ì–´/OS/ë¯¸ë“¤ì›¨ì–´ ì— ëŒ€í•œ ê´€ë¦¬ëŠ” ì„œë¹„ìŠ¤ ì œê³µìê°€ í•˜ë©°, ì‚¬ìš©ìëŠ” ì œê³µëœ ë¯¸ë“¤ì›¨ì–´ë§Œ ì‚¬ìš© í•  ìˆ˜ ìˆë‹¤.

- ì£¼ë¡œ ê°œë°œ í™˜ê²½ê³¼ ê´€ë ¨í•œ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•œë‹¤.(OS, DB, WAS, JDK)

- ê¸°ë³¸ ì¸í”„ë¼ (ex. í•˜ë“œì›¨ì–´ì™€ ìš´ì˜ ì²´ì œ)ë¥¼ ê´€ë¦¬í•  í•„ìš” ì—†ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.

â–¶ SaaS(Software as a Service)

- ì†Œí”„íŠ¸ì›¨ì–´ ë˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê¸°ëŠ¥ë§Œ ì œê³µí•©ë‹ˆë‹¤. ë„¤ì´ë²„í´ë¼ìš°ë“œ, ì›¹ ë©”ì¼, ERP ë“±ê³¼ ê°™ì€ í˜•íƒœì˜ ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©ìì—ê²Œ ì œê³µí•œë‹¤.

## AWS í´ë¼ìš°ë“œ ì»´í“¨íŒ…ì˜ ì¥ì 

- ì €ë ´í•œ ë¹„ìš©

AWSëŠ” ì‚¬ì „ í™•ì•½ê¸ˆì´ë‚˜ ì¥ê¸° ì•½ì • ì—†ì´ ì €ë ´í•œ ì¢…ëŸ‰ ê³¼ê¸ˆì œ ë°©ì‹ìœ¼ë¡œ ìš´ì˜ëœë‹¤.

í™•ì¥í˜• ê¸€ë¡œë²Œ ì¸í”„ë¼ë¥¼ êµ¬ì¶• ë° ê´€ë¦¬í•˜ê³ , ë” ì €ë ´í•œ ìš”ê¸ˆì˜ í˜•íƒœë¡œ ì‚¬ìš©ìì—ê²Œ ë¹„ìš© ì ˆê° í˜œíƒì„ ê³ ìŠ¤ë€íˆ ëŒë ¤ì¤€ë‹¤.

ìë³¸ë¹„ìš©ì„ ê°€ë³€ë¹„ìš©ìœ¼ë¡œ ëŒ€ì²´í•˜ì—¬ ì‹œê°„ëŒ€ë³„ë¡œë„ ìì›ì„ ëŒìˆ˜ìˆìŒ.

- ì†ë„ ë° ë¯¼ì²©ì„± ê°œì„ 

ë°ì´í„°ì„¼í„°ìš´ì˜ ë° ìœ ì§€ê´€ë¦¬ì— ë¹„ìš©íˆ¬ì ë¶ˆí•„ìš”

ëª‡ë¶„ë§Œì— ì „ì„¸ê²Œì— ë°°í¬

AWSëŠ” ì–¸ì–´ ë° ìš´ì˜ ì²´ì œì— êµ¬ì• ë°›ì§€ ì•ŠëŠ” í”Œë«í¼ì´ë‹¤. ë”°ë¼ì„œ ì‚¬ìš©ìì˜ ë¹„ì¦ˆë‹ˆìŠ¤ì— ê°€ì¥ ì í•©í•œ ê°œë°œ í”Œë«í¼ ë˜ëŠ” í”„ë¡œê·¸ë˜ë° ëª¨ë¸ì„ ì„ íƒí•  ìˆ˜ ìˆë‹¤. ì‚¬ìš©í•  ì„œë¹„ìŠ¤ë¥¼ í•œ ê°œ ë˜ëŠ” ì—¬ëŸ¬ ê°œ ì„ íƒí•˜ê³ , ê·¸ ì‚¬ìš© ë°©ì‹ë„ ì„ íƒí•  ìˆ˜ ìˆë‹¤.

- ë¯¼ì²©ì„±, ì¦‰ê°ì  ìœµí†µì„±

ëª‡ ì£¼ ë˜ëŠ” ëª‡ ê°œì›” ë™ì•ˆ ë¬¼ë¦¬ì ì¸ ì„œë²„ë¥¼ êµ¬ì¶•í•˜ê¸¸ ê¸°ë‹¤ë¦¬ëŠ” ëŒ€ì‹  ì¦‰ì‹œ ìƒˆë¡œìš´ ì•±ì„ ë°°í¬í•˜ê³ , ìˆ˜ìš”ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì¶•ì†Œí•  ìˆ˜ë„ ìˆë‹¤. í•„ìš”í•œ ê°€ìƒ ì„œë²„ê°€ í•œ ëŒ€ë“  ì•„ë‹ˆë©´ ìˆ˜ì²œ ëŒ€ë“ , ê°€ìƒ ì„œë²„ê°€ í•„ìš”í•œ ì‹œê°„ì´ ëª‡ ì‹œê°„ì´ë“  ì‚¬ìš©í•œ ì–‘ë§Œí¼ ë¹„ìš©ì´ ì²­êµ¬ëœë‹¤. ì¦‰ í•œ ì¤„ë¡œ ìš”ì•½í•˜ë©´ ì„¤ì¹˜ê°€ ë¹ ë¥´ê³  ê´€ë¦¬ê°€ í¸í•˜ë‹¤ëŠ” ê²ƒì´ë‹¤.

### ì§ì ‘ ë°°í¬í•´ë³´ê¸°

> front package.json

```java
"distribute": "npm i && npm run build && pm2 serve build 3000 --name <project-front> --spa"
```

1. npm i â¡ï¸ gitignoreì— nodemoduleì´ ë“¤ì–´ê°€ìˆìœ¼ë‹ˆ í´ë¡ ë°›ì„ì‹œì— nodemoduleì´ ì—†ë‹¤. ì¦‰ install ë°›ì•„ì¤˜ì•¼í•¨

2. npm run build â¡ï¸ í”„ë¡œê·¸ë¨ì„ build ì‹œí‚´

3. pm2 serve build 3000 --name <project-front> --spa â¡ï¸ pm2 í”„ë¡œê·¸ë¨ì˜ serve ëª…ë ¹ì–´ë¥¼ í†µí•´ì„œ build í´ë”ë¥¼ servingì‹œí‚´

> back package.json

```java
"distribute": "npm i && npx prisma generate && pm2 start server.js --name <project-back> -i max"  // ê¸°ë³¸

--ë°”ë²¨ì‚¬ìš©ì‹œ--
"start": "babel-node server.js",
"distribute": "npm i && prisma generate && pm2 start --name <project-back> -i max npm -- run start"
```

1. pm2 start â¡ï¸ jsíŒŒì¼ì‹¤í–‰ - ê¸°ì¡´ node ëª…ë ¹ì–´ëŠ” ì „ì—­ ì—ëŸ¬ê°€ ë‚  ì‹œ ì¬ ì‹œì‘ì´ ë˜ì§€ ì•Šì§€ë§Œ pm2 startë¥¼ ì´ìš©í•˜ë©´ ì¬ì‹œì‘ë¨

<br>
<hr>

AWSì—ì„œ EC2, RDSë¥¼ ì…‹íŒ… í›„

ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ì—¬ key.pemì„ ë‹¤ìš´ë°›ì.

key.pemì´ ìˆëŠ” í´ë”ìœ„ì¹˜ì—ì„œ `ssh -i key.pem ec2-user@<í™•ì¸í•œ public ip>` ì‹¤í–‰

```
sudo yum install git
git clone <repo_front>
git clone <repo_back>

curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash

export NVM_DIR="$([ -z "${XDG_CONFIG_HOME-}" ] && printf %s "${HOME}/.nvm" || printf %s "${XDG_CONFIG_HOME}/nvm")"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh" # This loads nvm

nvm install --lts
nvm use --lts
```

ì´ì œë¶€í„° npmì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

> front .env

```
REACT_APP_BASE_URL='http://13.125.235.62:8000'
GENERATE_SOURCEMAP=false
```

- GENERATE_SOURCEMAP â¡ï¸ create-react-appìœ¼ë¡œ React í”„ë¡œì íŠ¸ë¥¼ ë¹Œë“œí•˜ì—¬ ë°°í¬í•˜ëŠ” ê²½ìš°, ê¸°ë³¸ì ìœ¼ë¡œ webpackì— ì˜í•´ ë²ˆë“¤ë§ ëœ íŒŒì¼ê³¼ í•´ë‹¹ íŒŒì¼ì— ëŒ€ì‘ë˜ëŠ” sourcemapì´ ìƒì„±ë¨
  sourcemapì€ ê°„ë‹¨íˆ ë§í•˜ë©´, ë””ë²„ê¹…ì„ ìœ„í•œ íŒŒì¼ì´ë‹¤. í•´ë‹¹ íŒŒì¼ì´ ìˆë‹¤ë©´ ì••ì¶•ë˜ê³  ë‚œë…í™”ëœ íŒŒì¼ì„ ë¸Œë¼ìš°ì € ë‚´ì—ì„œ ë‹¤ì‹œ ì›ë³¸ ì†ŒìŠ¤ì²˜ëŸ¼ í™•ì¸í•  ìˆ˜ ìˆìŒ. í•˜ì§€ë§Œ, ì‹¤ì œ ë°°í¬ ì‹œ sourcemapì€ ì œê±°ë˜ì–´ì•¼ í•¨. ë‚´ë¶€ ì½”ë“œê°€ ê·¸ëŒ€ë¡œ ë…¸ì¶œë˜ë¯€ë¡œ, ë‚œë…í™”ì˜ ì´ì ì„ ëª¨ë‘ ìƒì‹¤. ë…¸ì¶œë˜ì§€ ì•Šì•„ì•¼ í•˜ëŠ” í”„ë¡œì íŠ¸ì¼ìˆ˜ë¡ ë”ìš± ì¹˜ëª…ì ì¼ ìˆ˜ ìˆìŒ. ë¹Œë“œ ì‹œ ë©”ëª¨ë¦¬ ë¶€ì¡±(OOM) ì´ìŠˆê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ

> back .env

```
DATABASE_URL="mysql://junHyeok:dlwnsgur1@project-wetown.ccrudlxgt09s.ap-northeast-2.rds.amazonaws.com:3306/wetown"
JWT_SECRET="1234"
```

back, front ëª¨ë‘ í™˜ê²½ë³€ìˆ˜íŒŒì¼ ìƒì„±(gitignore ë˜ì–´ìˆê¸°ë•Œë¬¸)

ê·¸ë¦¬ê³  ê°ìì˜ í´ë¡  í´ë”ì—ì„œ npm run distribute ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰ì‹œì¼œ ë°°í¬í•¨

ë

## ë‚´ê°€ ì§ì ‘ ë°°í¬í•œ ì‚¬ì´íŠ¸

<a href="http://13.125.235.62:3000/" target="_blank" >WETOWN</a>
