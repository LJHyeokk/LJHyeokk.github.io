---
layout: single
classes: wide
title: 'Unit Test'

author_profile: ture
---

## ìœ ë‹›í…ŒìŠ¤íŠ¸ ğŸ™€

<center>ìœ ë‹› í…ŒìŠ¤íŠ¸ : ë‚´ê°€ ì‘ì„±í•œ ì½”ë“œì˜ ê°€ì¥ ì‘ì€ ë‹¨ìœ„ì¸ í•¨ìˆ˜ë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë©”ì†Œë“œì´ë‹¤</center>
{: .notice--danger}

- Google Test Automation Conferenceì—ì„œ ì œì•ˆëœ í…ŒìŠ¤íŠ¸ í”¼ë¼ë¯¸ë“œ
- ì‹œìŠ¤í…œì„ í…ŒìŠ¤íŠ¸ í• ë•Œ í¬ê²Œ 3ê°€ì§€ ë°©ë²•ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.
- ì „ì²´ í…ŒìŠ¤íŠ¸ ë¹„ì¤‘ì„ ì•„ë˜ì™€ ê°™ì€ ìˆ˜ì¹˜ë¡œ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ê¶Œì¥ë¨
  - **E2E(UI) Testing** - 10%
  - **Integrating Testing** - 20%
  - **Unit Testing** - 70%

### UI Testing

- í¬ë¡¬ ë¸Œë¼ìš°ì €ë¥¼ ë„ìš´ë‹¤ìŒì— ë‚´ê°€ ë§Œë“  ê²€ìƒ‰í˜ì´ì§€ë¡œ ë“¤ì–´ê°€ì„œ ê²€ìƒ‰ì„ í•´ë³´ê³  ê²€ìƒ‰í•œ ë‚´ìš©ì´ ì œëŒ€ë¡œ ë‚˜ì˜¤ëŠ”ì§€ í™”ë©´ìƒì—ì„œ í™•ì¸í•˜ê±°ë‚˜ ì§ì ‘ íšŒì›ê°€ì…ì„ í•´ë³´ê³  íšŒì›ê°€ì…í›„ì— ë¡œê·¸ì¸ ë˜ëŠ”ì§€ ì§ì ‘ ë¸Œë¼ìš°ì € ìƒì—ì„œ ê°’ì„ ì…ë ¥í•´ì„œ í…ŒìŠ¤íŠ¸ í•˜ëŠ”ë°©ë²•
- UI Testingì´ ê°€ì¥ ì–´ë µê³  ê¹Œë‹¤ë¡œì›€.
- Manual Testingì€ ì‹¤í–‰í•˜ê¸° ì‰½ë‹¤ëŠ” ì¥ì ì´ ìˆì§€ë§Œ ë¹„ìš©ì´ ë§ì´ ë“¤ê³  ë¶€ì •í™• í•˜ë©° ì‹¤í–‰ ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¼.
- ìë™í™” í•  ìˆ˜ ìˆì§€ë§Œ UI Testingì€ ìë™í™” í•˜ê¸°ê°€ ê°€ì¥ ê¹Œë‹¤ë¡­ê³  ë˜ ì‹¤í–‰í•˜ê¸°ë„ ê¹Œë‹¤ë¡œì›€.

### Integration Testing

- ìµœì†Œ ë‘ê°œì´ìƒì˜ í´ë˜ìŠ¤ ë˜ëŠ” ì„œë¸Œ ì‹œìŠ¤í…œì˜ ê²°í•©ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë°©ë²•
- ì˜ˆë¥¼ë“¤ë©´ ë…¸ë“œë¡œ ì„œë²„ë¥¼ ë„ìš°ê³  ëª¨ë¸ í´ë˜ìŠ¤ì™€ ê²°í•©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ ì‹œìŠ¤í…œê³¼ ì—°ë™í•œ í…ŒìŠ¤íŠ¸
- Postman ë˜ëŠ” httpieë¡œ í˜¸ì¶œí•´ì„œ Json responseê°€ ì œëŒ€ë¡œ ì¶œë ¥ë˜ëŠ”ì§€ í™•ì¸
- Integration Testingì´ E2E Testing ë‹¤ìŒìœ¼ë¡œ ê³µìˆ˜ê°€ ë§ì´ ë“­ë‹ˆë‹¤.

### Unit Testing

- ìœ ë‹› í…ŒìŠ¤íŠ¸ëŠ” UI Test ë˜ëŠ” Integration Test ë³´ë‹¤ í…ŒìŠ¤íŠ¸ ë¹„ìš©ì´ ì‹¸ë‹¤ê³  í•  ìˆ˜ ìˆë‹¤. ì™œëƒí•˜ë©´ UI TestëŠ” ë°±ì—”ë“œ ì„œë²„ì™€ í”„ë¡ íŠ¸ë¥¼ ì—°ë™í•˜ì—¬ ì‚¬ëŒì´ ì§ì ‘ í…ŒìŠ¤íŠ¸í•˜ì§€ë§Œ, ìœ ë‹› í…ŒìŠ¤íŠ¸ëŠ” ì‚¬ëŒì´ ìŠ¤í¬ë¦½íŠ¸ë¡œ í•œêº¼ë²ˆì— ìë™ìœ¼ë¡œ ì‹¤í–‰í•˜ê¸° ë•Œë¬¸ì´ë‹¤.
- ë˜í•œ, ìœ ë‹› í…ŒìŠ¤íŠ¸ëŠ” ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ì— ë¹„í•´ì„œ ì‹¤í–‰ ì†ë„ê°€ ë§¤ìš° ë¹ ë¥´ë‹¤. ê·¸ë˜ì„œ ìœ ë‹›í…ŒìŠ¤íŠ¸ë¥¼ í™œìš©í•˜ë©´ í•˜ë£¨ì—ë„ ë°°í¬ë¥¼ ì—¬ëŸ¬ë²ˆ í•  ìˆ˜ ìˆì–´ ê°œë°œ ë° ë°°í¬ ì†ë„ì— ì¤‘ìš”í•œ ì˜í–¥ì„ ì£¼ê¸° ë•Œë¬¸ì— ê°œë°œí•  ë•Œ ìµœëŒ€í•œ í™œìš©í•˜ëŠ”ê²Œ ì¢‹ë‹¤.
- ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ êµ¬í˜„í• ë•Œ ìœ ë‹› í…ŒìŠ¤íŠ¸ë¥¼ ì˜ ì‘ì„±í•´ë†“ìœ¼ë©´ ì¤‘ì¥ê¸°ì ìœ¼ë¡œ ìœ ì§€ ë³´ìˆ˜ê°€ ì‰¬ìš´ ì¥ì ì´ ìˆë‹¤. ì¦‰, ì´ì „ì— í†µê³¼í–ˆë˜ í…ŒìŠ¤íŠ¸ ì§‘í•©ì„ ê°€ì§€ê³  ë²„ê·¸ë¥¼ ì°¾ê¸° ìœ„í•´ì„œ ì´ì „ì— í…ŒìŠ¤íŠ¸ ë˜ì—ˆë˜ ìœ ë‹›í…ŒìŠ¤íŠ¸ë¥¼ ë°˜ë³µí•˜ëŠ”ê²ƒì„ regression í…ŒìŠ¤íŠ¸ë¼ê³  í•˜ëŠ”ë° ìœ ë‹›í…ŒìŠ¤íŠ¸ë§Œ ë°˜ë³µí•˜ë©´ ë˜ê¸° ë•Œë¬¸ì— regression í…ŒìŠ¤íŠ¸ë„ ë°˜ë³µì ìœ¼ë¡œ ìˆ˜í–‰ í•  ìˆ˜ ìˆë‹¤.
- ìœ ë‹›í…ŒìŠ¤íŠ¸ë¥¼ ì˜ ì§œë†“ìœ¼ë©´ ìœ ë‹›í…ŒìŠ¤íŠ¸ê°€ ë˜ì—ˆë˜ ì½”ë“œì—ì„œëŠ” ë²„ê·¸ê°€ ê±°ì˜ ë°œê²¬ë˜ì§€ ì•Šê³  ëŒ€ë¶€ë¶„ ë²„ê·¸ê°€ ë°œê²¬ë˜ëŠ” ê²½ìš°ëŠ” ìœ ë‹›í…ŒìŠ¤íŠ¸ê°€ ì—†ì–´ì„œ ë°œìƒí•˜ëŠ” ê²½ìš°ê°€ ë§ê³  ë§Œì•½ ì‚¬í›„ì— ë°œê²¬ëœ ë²„ê·¸ì— ëŒ€í•´ì„œë„ ë²„ê·¸ë¥¼ ìˆ˜ì •í•œ í›„ ìœ ë‹›í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ë†“ìœ¼ë©´ ë²„ê·¸ë¥¼ ë°©ì§€í•  ìˆ˜ ìˆë‹¤.

## ì‹¤ìŠµ

`npm install --save-dev jest` ëª…ë ¹ì–´ë¥¼ í†µí•´ ë‹¤ìš´ë°›ê¸°

> `__TEST__` -> detail.test.js

```java
import { productDetailController } from '../controllers';

describe('Detail', () => {
  const req = {
    params: { productId: 2 },
  };
  const res = {
    status: jest.fn(() => res),
    send: jest.fn(),
  };
  test('2ë²ˆ ìƒí’ˆì˜ ê°’ì´ ì˜ ë°›ì•„ì ¸ì˜¤ëŠ”ê°€?', async () => {
    await productDetailController.productDetail(req, res);
    expect(res.send).toBeCalledWith({
      id: 2,
      eng_name: 'Cozy Cushion House',
      price: 32210,
      is_new: 0,
      is_main: 1,
      quantity: 1000,
      sale_rate: null,
      cate_name: 'dog',
      subcate_name: 'house',
      url: [
        {
          id: 2,
          image: '/images/productListMain/dog/dog_house_02.png',
        },
        {
          id: 15,
          image:
            'https://ae01.alicdn.com/kf/H5098255cba874443bca7453d76e710fbV/-.jpg_Q90.jpg_.webp',
        },
        {
          id: 16,
          image:
            'https://ae01.alicdn.com/kf/H8debf1b4e60b4565aeb5f6e1920971f1S/-.jpg_Q90.jpg_.webp',
        },
        {
          id: 17,
          image:
            'https://ae01.alicdn.com/kf/Hd3456218cc1b49dcbcf1a6aa47e878c5K/-.jpg_Q90.jpg_.webp',
        },
      ],
      image_id: 2,
    });
  });
});
```

```java
 PASS  __TEST__/detail.test.js
  Detail
    âœ“ 2ë²ˆ ìƒí’ˆì˜ ê°’ì´ ì˜ ë°›ì•„ì ¸ì˜¤ëŠ”ê°€? (144 ms)

Test Suites: 1 passed, 1 total
Tests:       1 passed, 1 total
Snapshots:   0 total
Time:        0.733 s, estimated 1 s
Ran all test suites.
```

ì†”ì§í•˜ê²Œ ì•„ì§ì€ unit testë³´ë‹¤ëŠ” postManì„ í†µí•´ ìˆ˜ì‘ì—…ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ í•˜ëŠ”ê²ƒì´ í¸í•˜ë‹¤.

ë¬¼ë¡  ë‚´ê°€ ì •í™•í•œ ì‚¬ìš©ë°©ë²•ì„ ìˆ™ì§€í•˜ì§€ ëª»í•˜ê³  í™œìš©í•˜ì§€ ëª»í•˜ê¸° ë•Œë¬¸ì¼ê²ƒì´ë‹¤.

ì§€ê¸ˆì€ unit testë¼ëŠ” ê²ƒì´ ìˆê³  ì´ê²ƒì´ ë¬´ì—‡ì„ ìœ„í•´ ë§Œë“¤ì–´ì¡ŒëŠ”ì§€ë§Œ ì•„ëŠ”ê²ƒìœ¼ë¡œ ë„˜ì–´ê°€ì§€ë§Œ

ì¶”í›„ ì œëŒ€ë¡œ í™œìš©í• ì¤„ ì•Œê²Œëœë‹¤ë©´ í¬ìŠ¤íŠ¸ì—…ë°ì´íŠ¸ë¥¼ í•  ê²ƒì´ë‹¤.
