<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="ko" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Unit Test | POPO</title>
<meta name="description" content="유닛테스트 🙀">


  <meta name="author" content="Lee Jun Hyeok">
  
  <meta property="article:author" content="Lee Jun Hyeok">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="ko_KR">
<meta property="og:site_name" content="POPO">
<meta property="og:title" content="Unit Test">
<meta property="og:url" content="http://localhost:4000/node-05/">


  <meta property="og:description" content="유닛테스트 🙀">







  <meta property="article:published_time" content="2022-01-12T00:00:00+09:00">





  

  


<link rel="canonical" href="http://localhost:4000/node-05/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Lee Jun Hyeok",
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="POPO Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single wide">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/logo5.png" alt="POPO"></a>
        
        <a class="site-title" href="/">
          POPO
          <span class="site-subtitle">EZ coding</span>
        </a>
        <ul class="visible-links"></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">토글 메뉴</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
         



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/" itemprop="item"><span itemprop="name">Home</span></a>

          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        <li class="current">Unit Test</li>
      
    
  </ol>
</nav>
  

<div id="main" role="main">
  
<div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  
    <div class="author__avatar">
      <a href="http://localhost:4000/">
        <img src="/assets/images/tory3.png" alt="Lee Jun Hyeok" itemprop="image" class="u-photo">
      </a>
    </div>
  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="http://localhost:4000/" itemprop="url">Lee Jun Hyeok</a>
    </h3>
    
      <div class="author__bio p-note" itemprop="description">
        <p>안녕하세요~😸</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">팔로우</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name" class="p-locality">Busan</span>
        </li>
      

      
        
          
            <li><a href="mailto:clzlsqkq@gmail.com" rel="nofollow noopener noreferrer me"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span></a></li>
          
        
          
        
          
            <li><a href="https://github.com/LJHyeokk" rel="nofollow noopener noreferrer me"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>         

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">토글 메뉴</label>
  <ul class="nav__items">
    
      <li>
        
          <a href="/"><span class="nav__sub-title">Front-End</span></a>
        

        
        <ul>
          
            <li><a href="/Every/HTMLCSS/HTMLCSS/">HTML/CSS(3)</a></li>
          
            <li><a href="/Every/JS/javascript/">JavaScript(10)</a></li>
          
            <li><a href="/Every/React/React/">React(11)</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">BACK-END</span>
        

        
        <ul>
          
            <li><a href="/Every/Node/node/">Node.Js(5)</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Algorithm</span>
        

        
        <ul>
          
            <li><a href="/Every/Algorithm/Algorithm">알고리즘(6)</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Database</span>
        

        
        <ul>
          
            <li><a href="/Every/Sql/sql/">mySQL(3)</a></li>
          
            <li><a href="/">mongoDB(0)</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Blog</span>
        

        
        <ul>
          
            <li><a href="/Every/Blog/Blog/">만들어보기(3)</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">etc</span>
        

        
        <ul>
          
            <li><a href="/Every/etc/etc/">이것저것(7)</a></li>
          
            <li><a href="/Every/Wecode/wecode/">Wecode(6)</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>
  
</div>



  <article
    class="page h-entry"
    itemscope
    itemtype="https://schema.org/CreativeWork"
  >
    <meta
      itemprop="headline"
      content="Unit Test"
    /> <meta
      itemprop="description"
      content="유닛테스트 🙀"
    /> <meta
      itemprop="datePublished"
      content="2022-01-12T00:00:00+09:00"
    /> 

    <div class="page__inner-wrap">
      
      <header>
        
        <h1 id="page-title" class="page__title p-name" itemprop="headline">
          <a href="http://localhost:4000/node-05/" class="u-url" itemprop="url"
            ><p>Unit Test</p>
</a
          >
        </h1>
         

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-01-12T00:00:00+09:00">2022-01-12</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 분 소요
        
      </span>
    
  </p>


      </header>
      

      <section class="page__content e-content" itemprop="text">
         <h2 id="유닛테스트-">유닛테스트 🙀</h2>

<center class="notice--danger">유닛 테스트 : 내가 작성한 코드의 가장 작은 단위인 함수를 테스트하는 메소드이다</center>

<ul>
  <li>Google Test Automation Conference에서 제안된 테스트 피라미드</li>
  <li>시스템을 테스트 할때 크게 3가지 방법으로 나눌 수 있다.</li>
  <li>전체 테스트 비중을 아래와 같은 수치로 구현하는 것이 권장됨
    <ul>
      <li><strong>E2E(UI) Testing</strong> - 10%</li>
      <li><strong>Integrating Testing</strong> - 20%</li>
      <li><strong>Unit Testing</strong> - 70%</li>
    </ul>
  </li>
</ul>

<h3 id="ui-testing">UI Testing</h3>

<ul>
  <li>크롬 브라우저를 띄운다음에 내가 만든 검색페이지로 들어가서 검색을 해보고 검색한 내용이 제대로 나오는지 화면상에서 확인하거나 직접 회원가입을 해보고 회원가입후에 로그인 되는지 직접 브라우저 상에서 값을 입력해서 테스트 하는방법</li>
  <li>UI Testing이 가장 어렵고 까다로움.</li>
  <li>Manual Testing은 실행하기 쉽다는 장점이 있지만 비용이 많이 들고 부정확 하며 실행 시간이 오래 걸림.</li>
  <li>자동화 할 수 있지만 UI Testing은 자동화 하기가 가장 까다롭고 또 실행하기도 까다로움.</li>
</ul>

<h3 id="integration-testing">Integration Testing</h3>

<ul>
  <li>최소 두개이상의 클래스 또는 서브 시스템의 결합을 테스트하는 방법</li>
  <li>예를들면 노드로 서버를 띄우고 모델 클래스와 결합하여 데이터베이스 시스템과 연동한 테스트</li>
  <li>Postman 또는 httpie로 호출해서 Json response가 제대로 출력되는지 확인</li>
  <li>Integration Testing이 E2E Testing 다음으로 공수가 많이 듭니다.</li>
</ul>

<h3 id="unit-testing">Unit Testing</h3>

<ul>
  <li>유닛 테스트는 UI Test 또는 Integration Test 보다 테스트 비용이 싸다고 할 수 있다. 왜냐하면 UI Test는 백엔드 서버와 프론트를 연동하여 사람이 직접 테스트하지만, 유닛 테스트는 사람이 스크립트로 한꺼번에 자동으로 실행하기 때문이다.</li>
  <li>또한, 유닛 테스트는 다른 테스트에 비해서 실행 속도가 매우 빠르다. 그래서 유닛테스트를 활용하면 하루에도 배포를 여러번 할 수 있어 개발 및 배포 속도에 중요한 영향을 주기 때문에 개발할 때 최대한 활용하는게 좋다.</li>
  <li>새로운 기능을 구현할때 유닛 테스트를 잘 작성해놓으면 중장기적으로 유지 보수가 쉬운 장점이 있다. 즉, 이전에 통과했던 테스트 집합을 가지고 버그를 찾기 위해서 이전에 테스트 되었던 유닛테스트를 반복하는것을 regression 테스트라고 하는데 유닛테스트만 반복하면 되기 때문에 regression 테스트도 반복적으로 수행 할 수 있다.</li>
  <li>유닛테스트를 잘 짜놓으면 유닛테스트가 되었던 코드에서는 버그가 거의 발견되지 않고 대부분 버그가 발견되는 경우는 유닛테스트가 없어서 발생하는 경우가 많고 만약 사후에 발견된 버그에 대해서도 버그를 수정한 후 유닛테스트를 작성해놓으면 버그를 방지할 수 있다.</li>
</ul>

<h2 id="실습">실습</h2>

<p><code class="language-plaintext highlighter-rouge">npm install --save-dev jest</code> 명령어를 통해 다운받기</p>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">__TEST__</code> -&gt; detail.test.js</p>
</blockquote>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="err">{</span> <span class="nn">productDetailController</span> <span class="o">}</span> <span class="n">from</span> <span class="err">'</span><span class="o">../</span><span class="n">controllers</span><span class="err">'</span><span class="o">;</span>

<span class="n">describe</span><span class="o">(</span><span class="err">'</span><span class="nc">Detail</span><span class="err">'</span><span class="o">,</span> <span class="o">()</span> <span class="o">=&gt;</span> <span class="o">{</span>
  <span class="kd">const</span> <span class="n">req</span> <span class="o">=</span> <span class="o">{</span>
    <span class="nl">params:</span> <span class="o">{</span> <span class="nl">productId:</span> <span class="mi">2</span> <span class="o">},</span>
  <span class="o">};</span>
  <span class="kd">const</span> <span class="n">res</span> <span class="o">=</span> <span class="o">{</span>
    <span class="nl">status:</span> <span class="n">jest</span><span class="o">.</span><span class="na">fn</span><span class="o">(()</span> <span class="o">=&gt;</span> <span class="n">res</span><span class="o">),</span>
    <span class="nl">send:</span> <span class="n">jest</span><span class="o">.</span><span class="na">fn</span><span class="o">(),</span>
  <span class="o">};</span>
  <span class="n">test</span><span class="o">(</span><span class="err">'</span><span class="mi">2</span><span class="n">번</span> <span class="n">상품의</span> <span class="n">값이</span> <span class="n">잘</span> <span class="n">받아져오는가</span><span class="o">?</span><span class="err">'</span><span class="o">,</span> <span class="n">async</span> <span class="o">()</span> <span class="o">=&gt;</span> <span class="o">{</span>
    <span class="n">await</span> <span class="n">productDetailController</span><span class="o">.</span><span class="na">productDetail</span><span class="o">(</span><span class="n">req</span><span class="o">,</span> <span class="n">res</span><span class="o">);</span>
    <span class="n">expect</span><span class="o">(</span><span class="n">res</span><span class="o">.</span><span class="na">send</span><span class="o">).</span><span class="na">toBeCalledWith</span><span class="o">({</span>
      <span class="nl">id:</span> <span class="mi">2</span><span class="o">,</span>
      <span class="nl">eng_name:</span> <span class="err">'</span><span class="nc">Cozy</span> <span class="nc">Cushion</span> <span class="nc">House</span><span class="err">'</span><span class="o">,</span>
      <span class="nl">price:</span> <span class="mi">32210</span><span class="o">,</span>
      <span class="nl">is_new:</span> <span class="mi">0</span><span class="o">,</span>
      <span class="nl">is_main:</span> <span class="mi">1</span><span class="o">,</span>
      <span class="nl">quantity:</span> <span class="mi">1000</span><span class="o">,</span>
      <span class="nl">sale_rate:</span> <span class="kc">null</span><span class="o">,</span>
      <span class="nl">cate_name:</span> <span class="err">'</span><span class="n">dog</span><span class="err">'</span><span class="o">,</span>
      <span class="nl">subcate_name:</span> <span class="err">'</span><span class="n">house</span><span class="err">'</span><span class="o">,</span>
      <span class="nl">url:</span> <span class="o">[</span>
        <span class="o">{</span>
          <span class="nl">id:</span> <span class="mi">2</span><span class="o">,</span>
          <span class="nl">image:</span> <span class="err">'</span><span class="o">/</span><span class="n">images</span><span class="o">/</span><span class="n">productListMain</span><span class="o">/</span><span class="n">dog</span><span class="o">/</span><span class="n">dog_house_02</span><span class="o">.</span><span class="na">png</span><span class="err">'</span><span class="o">,</span>
        <span class="o">},</span>
        <span class="o">{</span>
          <span class="nl">id:</span> <span class="mi">15</span><span class="o">,</span>
          <span class="nl">image:</span>
            <span class="err">'</span><span class="nl">https:</span><span class="c1">//ae01.alicdn.com/kf/H5098255cba874443bca7453d76e710fbV/-.jpg_Q90.jpg_.webp',</span>
        <span class="o">},</span>
        <span class="o">{</span>
          <span class="nl">id:</span> <span class="mi">16</span><span class="o">,</span>
          <span class="nl">image:</span>
            <span class="err">'</span><span class="nl">https:</span><span class="c1">//ae01.alicdn.com/kf/H8debf1b4e60b4565aeb5f6e1920971f1S/-.jpg_Q90.jpg_.webp',</span>
        <span class="o">},</span>
        <span class="o">{</span>
          <span class="nl">id:</span> <span class="mi">17</span><span class="o">,</span>
          <span class="nl">image:</span>
            <span class="err">'</span><span class="nl">https:</span><span class="c1">//ae01.alicdn.com/kf/Hd3456218cc1b49dcbcf1a6aa47e878c5K/-.jpg_Q90.jpg_.webp',</span>
        <span class="o">},</span>
      <span class="o">],</span>
      <span class="nl">image_id:</span> <span class="mi">2</span><span class="o">,</span>
    <span class="o">});</span>
  <span class="o">});</span>
<span class="o">});</span>
</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="no">PASS</span>  <span class="n">__TEST__</span><span class="o">/</span><span class="n">detail</span><span class="o">.</span><span class="na">test</span><span class="o">.</span><span class="na">js</span>
  <span class="nc">Detail</span>
    <span class="err">✓</span> <span class="mi">2</span><span class="n">번</span> <span class="n">상품의</span> <span class="n">값이</span> <span class="n">잘</span> <span class="n">받아져오는가</span><span class="o">?</span> <span class="o">(</span><span class="mi">144</span> <span class="n">ms</span><span class="o">)</span>

<span class="nc">Test</span> <span class="nl">Suites:</span> <span class="mi">1</span> <span class="n">passed</span><span class="o">,</span> <span class="mi">1</span> <span class="n">total</span>
<span class="nl">Tests:</span>       <span class="mi">1</span> <span class="n">passed</span><span class="o">,</span> <span class="mi">1</span> <span class="n">total</span>
<span class="nl">Snapshots:</span>   <span class="mi">0</span> <span class="n">total</span>
<span class="nl">Time:</span>        <span class="mf">0.733</span> <span class="n">s</span><span class="o">,</span> <span class="n">estimated</span> <span class="mi">1</span> <span class="n">s</span>
<span class="nc">Ran</span> <span class="n">all</span> <span class="n">test</span> <span class="n">suites</span><span class="o">.</span>
</code></pre></div></div>

<p>솔직하게 아직은 unit test보다는 postMan을 통해 수작업으로 테스트 하는것이 편하다.</p>

<p>물론 내가 정확한 사용방법을 숙지하지 못하고 활용하지 못하기 때문일것이다.</p>

<p>지금은 unit test라는 것이 있고 이것이 무엇을 위해 만들어졌는지만 아는것으로 넘어가지만</p>

<p>추후 제대로 활용할줄 알게된다면 포스트업데이트를 할 것이다.</p>
 
      </section>

      <footer class="page__meta">
         

 

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> 업데이트:</strong> <time class="dt-published" datetime="2022-01-12T00:00:00+09:00">2022-01-12</time></p>

      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">공유하기</h4>
  

  <a href="https://twitter.com/intent/tweet?text=Unit+Test%20http%3A%2F%2Flocalhost%3A4000%2Fnode-05%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fnode-05%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fnode-05%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>
 
  <nav class="pagination">
    
      <a href="/wecode-05/" class="pagination--pager" title="1차 Project 회고록
">이전</a>
    
    
      <a href="/sql-02/" class="pagination--pager" title="Workbench
">다음</a>
    
  </nav>

    </div>

    
  </article>

   
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>팔로우:</strong></li>
    

    
      
        
          <li><a href="https://github.com/LJHyeokk" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> 피드</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 Lee Jun Hyeok. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>










  </body>
</html>
